{"ast":null,"code":"import _asyncToGenerator from\"D:/move-forward/react-ukol/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/move-forward/react-ukol/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\move-forward\\\\react-ukol\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';// import './App.css'\nimport'react-tabulator/lib/styles.css';import{ReactTabulator}from'react-tabulator';import{Tabulator}from'tabulator-tables';import{ReactTable}from'./components/react-table';import{useTable}from'react-table';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";require('react-dom');window.React2=require('react');console.log(window.React1===window.React2);export function ReadCsv(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tableRows=_useState2[0],setTableRows=_useState2[1];//State to store the values\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),values=_useState4[0],setValues=_useState4[1];var file=null;function fileInput(e){file=e.target.files[0];// console.log(e.target.files[0]);\n}function submitFile(){var formData=new FormData();formData.append('file',file);var fetchItems=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",fetch(\"/api/tweets\",{// mode: 'no-cors',\nmethod:'POST',body:formData}).then(function(response){return response.json();}).then(function(_ref2){var data=_ref2.data;if(data.length){// data.forEach((element, index) => {\n//     if (index == 0) {\n//         return\n//     } console.log(element);\n// })\ndata[0].push(\"jine\");data.forEach(function(element,index){if(index==0){return;}element.push(\"0\");});console.log(data[1],data);var allArrays=data.slice(1,data.length);setTableRows(data[0]);setValues(allArrays);console.log(tableRows);console.log(values);window.columns=data[0];/* Converting the array of arrays into an array of objects. */ /* Converting the array of arrays into an array of objects. */window.rows=data.splice(1).map(function(arr){var obj={};window.columns.forEach(function(column,index){obj[column]=arr[index];});return obj;});/* Adding a new property to each object in the array. */ /* Adding a new property to each object in the array. */window.rows.forEach(function(element){element.jine=\"0\";});console.log(window.rows);}else{alert('The CSV is empty');}}).catch(function(e){return alert(e.message);}));case 1:case\"end\":return _context.stop();}}},_callee);}));return function fetchItems(){return _ref.apply(this,arguments);};}();fetchItems();}function CreateTable(){return/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-dark\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:tableRows.map(function(rows,index){return/*#__PURE__*/_jsx(\"th\",{children:rows},index);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:values.map(function(value,index){return/*#__PURE__*/_jsx(\"tr\",{children:value.map(function(val,i){return/*#__PURE__*/_jsx(\"td\",{children:val},i);})},index);})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container py-4\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Nahr\\xE1t CSV\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file\",children:\"Vyberte file\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control\",name:\"file\",id:\"file\",onChange:fileInput}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn primary mt-2\",id:\"submitFile\",onClick:submitFile,children:\"P\\u0159e\\u010D\\xEDst\"}),window.rows!=undefined&&window.columns&&/*#__PURE__*/_jsx(ReactTable,{jsonArray:values})]});}// const data = require(\"./data\");\n// function tableClick(e) {\n//     console.log(e)\n//     console.log(e.target.innerText)\n//     console.log()\n// }","map":{"version":3,"sources":["D:/move-forward/react-ukol/frontend/src/jstable.js"],"names":["React","useEffect","useState","ReactTabulator","Tabulator","ReactTable","useTable","require","window","React2","console","log","React1","ReadCsv","tableRows","setTableRows","values","setValues","file","fileInput","e","target","files","submitFile","formData","FormData","append","fetchItems","fetch","method","body","then","response","json","data","length","push","forEach","element","index","allArrays","slice","columns","rows","splice","map","arr","obj","column","jine","alert","catch","message","CreateTable","value","val","i","undefined"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\n// import './App.css'\r\nimport 'react-tabulator/lib/styles.css';\r\nimport { ReactTabulator } from 'react-tabulator'\r\nimport { Tabulator } from 'tabulator-tables';\r\nimport { ReactTable } from './components/react-table';\r\nimport { useTable } from 'react-table'\r\n\r\nrequire('react-dom');\r\nwindow.React2 = require('react');\r\nconsole.log(window.React1 === window.React2);\r\nexport function ReadCsv() {\r\n    const [tableRows, setTableRows] = useState([]);\r\n\r\n    //State to store the values\r\n    const [values, setValues] = useState([]);\r\n\r\n\r\n\r\n    let file = null;\r\n    function fileInput(e) {\r\n        file = e.target.files[0]\r\n        // console.log(e.target.files[0]);\r\n    }\r\n    function submitFile() {\r\n\r\n        let formData = new FormData()\r\n        formData.append('file', file);\r\n\r\n        const fetchItems = async () => fetch(\"/api/tweets\", {\r\n            // mode: 'no-cors',\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n            .then((response) => response.json())\r\n            .then(({ data }) => {\r\n                if (data.length) {\r\n                    // data.forEach((element, index) => {\r\n                    //     if (index == 0) {\r\n                    //         return\r\n                    //     } console.log(element);\r\n                    // })\r\n                  \r\n                    data[0].push(\"jine\");\r\n\r\n                    data.forEach((element, index) => {\r\n                        if (index == 0) {\r\n                            return\r\n                        }\r\n                        element.push(\"0\")\r\n                    })\r\n                    console.log(data[1], data);\r\n                    \r\n                    \r\n                    let allArrays = data.slice(1, data.length);\r\n\r\n                    setTableRows(data[0]);\r\n                    setValues(allArrays);\r\n\r\n                    console.log(tableRows);\r\n                    console.log(values)\r\n                    window.columns = data[0]\r\n                    /* Converting the array of arrays into an array of objects. */\r\n                    window.rows = data.splice(1).map((arr) => {\r\n\r\n                        const obj = {}\r\n                        window.columns.forEach((column, index) => {\r\n                            obj[column] = arr[index]\r\n                        })\r\n                        return obj\r\n                    })\r\n\r\n                    /* Adding a new property to each object in the array. */\r\n                    window.rows.forEach(element => {\r\n                        element.jine = \"0\"\r\n                    });\r\n                    console.log(window.rows);\r\n\r\n                } else {\r\n                    alert('The CSV is empty')\r\n                }\r\n            })\r\n            .catch((e) => alert(e.message))\r\n        fetchItems()\r\n\r\n\r\n    }\r\n  function CreateTable() {\r\n        return (\r\n            <table className='table table-bordered table-dark'>\r\n                <thead>\r\n                    <tr>\r\n                        {tableRows.map((rows, index) => {\r\n                            return <th key={index}>{rows}</th>;\r\n                        })}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {values.map((value, index) => {\r\n                        return (\r\n                            <tr key={index}>\r\n                                {value.map((val, i) => {\r\n                                    return <td  key={i}>{val}</td>;\r\n                                })}\r\n\r\n                            </tr>\r\n                        );\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container py-4\">\r\n            <h1>Nahrát CSV</h1>\r\n            <label htmlFor='file'>Vyberte file</label>\r\n            <input type='file' className=\"form-control\" name='file' id='file' onChange={fileInput} />\r\n            <button className=\"btn btn primary mt-2\" id=\"submitFile\" onClick={submitFile}>Přečíst</button>\r\n            {/* <div className=\"mt-2\" id=\"csvTable\"></div> */}\r\n            {(window.rows != undefined && window.columns) &&\r\n                <ReactTable jsonArray={values} />\r\n            }\r\n\r\n            {/* <h1>{tableRows} and {values}</h1> */}\r\n            {/* <CreateTable /> */}\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n    // const data = require(\"./data\");\r\n\r\n\r\n  \r\n\r\n    // function tableClick(e) {\r\n    //     console.log(e)\r\n    //     console.log(e.target.innerText)\r\n    //     console.log()\r\n    // }\r\n\r\n"]},"metadata":{},"sourceType":"module"}